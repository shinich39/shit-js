"use strict";var x=Object.defineProperty;var B=Object.getOwnPropertyDescriptor;var E=Object.getOwnPropertyNames;var C=Object.prototype.hasOwnProperty;var M=(e,t)=>{for(var n in t)x(e,n,{get:t[n],enumerable:!0})},v=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of E(t))!C.call(e,o)&&o!==n&&x(e,o,{get:()=>t[o],enumerable:!(i=B(t,o))||i.enumerable});return e};var A=e=>v(x({},"__esModule",{value:!0}),e);var re={};M(re,{bitwise:()=>z,calcStringSize:()=>_,clone:()=>m,compareObject:()=>d,compareString:()=>G,convertFileSize:()=>S,escapeXML:()=>y,getClampedNumber:()=>Z,getContainedSize:()=>Q,getCoveredSize:()=>ee,getFloats:()=>U,getInts:()=>j,getLoopedNumber:()=>V,getObjectValue:()=>W,getRandomCharacter:()=>w,getRandomNumber:()=>Y,getRandomString:()=>F,getRelativePath:()=>J,getType:()=>te,getUUID:()=>$,groupBy:()=>k,humanizeFileSize:()=>K,isNumeric:()=>N,normalizeString:()=>D,parseDOM:()=>L,parseNumbers:()=>I,parsePath:()=>H,plotBy:()=>T,shuffleArray:()=>O,sleep:()=>R,stringifyDOM:()=>X,toNumber:()=>ne,toRegExp:()=>P,unescapeXML:()=>b,xor:()=>q});module.exports=A(re);function I(e){if(e.length===0)throw new Error("Invalid argument: arr.length === 0");let t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER,i=0,o=0,r=0,s={};for(let l of e)t<l&&(t=l),n>l&&(n=l),s[l]?s[l]+=1:s[l]=1,o<s[l]&&(o=s[l],i=l),r+=l;return{max:t,min:n,sum:r,mean:r/e.length,mode:i,modeCount:o}}function O(e){let t=e.length;for(;t>0;){let n=Math.floor(Math.random()*t);t--,[e[t],e[n]]=[e[n],e[t]]}return e}function T(...e){if(e.length===0)return[];for(let o in e)if(o.length===0)throw new Error("Invalid argument: argument cannot be empty");let t=Array(e.length).fill(0),n=[e.map((o,r)=>t[r])],i=e.length-1;for(;;)if(t[i]<e[i].length-1)t[i]+=1,n.push(e.map((o,r)=>t[r])),i=e.length-1;else if(t[i]=0,i--,i<0)return n}function k(e,t){let n={};for(let i of e){let o=t(i);n[o]?n[o].push(i):n[o]=[i]}return n}function R(e){return new Promise(t=>setTimeout(t,e))}function z(e){return{equals:t=>!!(e&t),set:t=>e|=t,unset:t=>e&=~t,invert:t=>e^=t}}function m(e){return e===null||typeof e!="object"?e:e instanceof Date?new Date(e.getTime()):e instanceof RegExp?new RegExp(e.source,e.flags):Array.isArray(e)?e.map(t=>m(t)):Object.entries(e).reduce((t,n)=>(t[n[0]]=m(n[1]),t),{})}function $(e){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let n=Math.random()*16|0;return(t==="x"?n:n&3|8).toString(16)})}function w(e){return e.charAt(Math.floor(Math.random()*e.length))}function F(e,t){let n="";for(let i=0;i<t;i++)n+=w(e);return n}function j(e){return e.match(/([0-9]+)/g)?.map(t=>parseInt(t))||[]}function U(e){return e.match(/[0-9]+(\.[0-9]+)?/g)?.map(t=>parseFloat(t))||[]}function D(e){return e.replace(/[！-～]/g,t=>String.fromCharCode(t.charCodeAt(0)-65248)).replace(/[^\S\r\n]/g," ")}function P(e){let t=e.split("/");if(t.length<3)throw new Error(`Invalid argument: ${e}`);let n=t.pop(),i=t.slice(1).join("/");return new RegExp(i,n)}function y(e,t=!1){return e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),t?e.replace(/ /g,"&nbsp;"):e}function b(e){return e.replace(/&nbsp;|&#32;|&#160;/g," ").replace(/&lt;|&#60;/g,"<").replace(/&gt;|&#62;/g,">").replace(/&quot;|&#34;/g,'"').replace(/&apos;|&#39;/g,"'").replace(/&amp;|&#38;/g,"&")}function G(e,t){let n=[];for(let s=0;s<e.length+1;s++){n.push([]);for(let l=0;l<e.length+1;l++)n[s][l]=0}for(let s=1;s<=e.length;s++)for(let l=1;l<=t.length;l++)e[s-1]===t[l-1]?n[s][l]=n[s-1][l-1]+1:n[s][l]=Math.max(n[s-1][l],n[s][l-1]);let i=[],o=e.length,r=t.length;for(;o>0||r>0;){let s=i[i.length-1],l=e[o-1],u=t[r-1];o>0&&r>0&&l===u?(s&&s[0]===0?s[1]=l+s[1]:i.push([0,l]),o--,r--):r>0&&(o===0||n[o][r-1]>=n[o-1][r])?(s&&s[0]===1?s[1]=u+s[1]:i.push([1,u]),r--):o>0&&(r===0||n[o][r-1]<n[o-1][r])&&(s&&s[0]===-1?s[1]=l+s[1]:i.push([-1,l]),o--)}return i.reverse()}function L(e){let t=[],n=function(r,s,l){let u=null;for(;l<r.length;){let g=r[l];if(u)g==="\\"?l++:g===u&&(u=null);else{if(g===s)return l;(g==='"'||g==="'")&&(u=g)}l++}return-1},i=function(r){r=b(r.trim());let s=!1,l;if(r[0]==="/")s=!0,r=r.substring(1);else{let a=r.match(/\s*[/?]$/);a&&(l=a[0],r=r.substring(0,r.length-a[0].length))}let u=[],g=0,h=n(r," ",g);for(;h>-1;)g!==h&&u.push(r.substring(g,h)),g=h+1,h=n(r," ",g);g!==r.length&&u.push(r.substring(g,r.length));let c={};for(let a=1;a<u.length;a++){let f=u[a],p=f.indexOf("=");p===-1?c[f]=!0:c[f.substring(0,p)]=f.substring(p+2,f.length-1)}return{isClosing:s,closer:l,tag:u[0],attributes:c}},o=0;for(;o<e.length;){let r=n(e,"<",o),s=e.substring(o,r>-1?r:void 0);if(s.length>0&&t.push({isClosed:!0,depth:0,type:"text",content:s,attributes:{},children:[]}),r===-1)break;if(e.substring(r,r+4)==="<!--"){let c=e.indexOf("-->",r+4);if(c===-1)throw new Error('Invalid argument: could not find "-->');t.push({isClosed:!0,depth:0,type:"comment",content:e.substring(r+4,c),attributes:{},children:[]}),o=c+3;continue}if(e.substring(r,r+7)==="<script"){let c=n(e,">",r+7);if(c===-1)throw new Error('Invalid argument: could not find ">"');let a=e.indexOf("<\/script>",c+1);if(a===-1)throw new Error('Invalid argument: could not find "<\/script>"');let f={isClosed:!0,depth:0,type:"tag",tag:"script",attributes:i(e.substring(r+1,c)).attributes,children:[]},p={isClosed:!0,depth:1,type:"text",content:e.substring(c+1,a),attributes:{},parent:f,children:[]};f.children.push(p),t.push(f,p),o=a+9;continue}if(e.substring(o,o+6)==="<style"){let c=n(e,">",r+6);if(c===-1)throw new Error('Invalid argument: could not find ">"');let a=e.indexOf("</style>",c+1);if(a===-1)throw new Error('Invalid argument: could not find "</style>"');let f={isClosed:!0,depth:0,type:"tag",tag:"style",attributes:i(e.substring(r+1,c)).attributes,children:[]},p={isClosed:!0,depth:1,type:"text",content:e.substring(c+1,a),attributes:{},parent:f,children:[]};f.children.push(p),t.push(f,p),o=a+8;continue}if(o=r,r=n(e,">",o),r===-1)throw new Error("Invalid argument: >(closing bracket) not found");let{isClosing:l,closer:u,tag:g,attributes:h}=i(e.substring(o+1,r));if(l){let c=[];for(let a=t.length-1;a>=0;a--){let f=t[a];if(f.isClosed===!1&&f.type==="tag"&&f.tag===g){for(let p of c)f.children=[p,...f.children],p.parent=f;f.isClosed=!0;break}f.depth===0&&c.push(f),f.isClosed=!0,f.depth++}}else t.push({isClosed:!!u,depth:0,type:"tag",tag:g,...u?{closer:u}:{},attributes:h,children:[]});o=r+1}for(let r of t)r.type==="tag"&&!r.isClosed&&(r.closer=""),delete r.isClosed;return t}function X(e){let t=function(r){let s="";for(let[l,u]of Object.entries(r))typeof u=="string"?s+=` ${l}="${u}"`:typeof u=="boolean"?u&&(s+=` ${l}`):typeof u.toString=="function"&&(s+=` ${l}="${u.toString()}"`);return s},n=function(r){let s="";if(r.type==="text"){let l=r.parent?.tag;l==="script"||l==="style"?s+=r.content:s+=y(r.content)}else if(r.type==="comment")s+=`<!--${r.content}-->`;else if(s+=`<${r.tag}${t(r.attributes)}`,typeof r.closer=="string")s+=`${r.closer}>`;else{s+=">";for(let l of r.children)s+=n(l);s+=`</${r.tag}>`}return s},i="",o=e.filter(r=>r.depth===0);for(let r of o)i+=n(r);return i}function q(e,t){let n=t.length;if(n===0)throw new Error("Invalid argument: salt.length === 0");let i="";for(let o=0;o<e.length;o++)i+=String.fromCharCode(e.charCodeAt(o)^t.charCodeAt(o%n));return i}function _(e){let t=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<=127?t+=1:i<=2047?t+=2:i<=65535?t+=3:t+=4}return t}function S(e,t,n){let i=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],o=i.indexOf(t);if(o===-1)throw new Error(`Invalid source unit: ${t}`);let r=i.indexOf(n);if(r===-1)throw new Error(`Invalid destination unit: ${n}`);return e*Math.pow(1024,o-r)}function K(e,t){let n=S(e,t,"Bytes");if(n===0)return"0 Bytes";let i=Math.floor(Math.log(n)/Math.log(1024));return(n/Math.pow(1024,i)).toFixed(2)+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][i]}function Y(e,t){return Math.random()*(t-e)+e}function Z(e,t,n){return Math.min(n,Math.max(e,t))}function V(e,t,n){return e-=t,n-=t,e<0&&(e=e%n+n),e>=n&&(e=e%n),e+t}function W(e,t){let n=e;for(let i of t.split(".")){if(typeof n!="object"||n===null)break;n=n[i]}return n}function d(e,t,n=new WeakMap){if(Object.is(e,t))return!0;if(typeof e!=typeof t)return!1;if(typeof t!="object")return e===t;if(t===null)return e===null;if(n.has(t))return n.get(t)===e;if(n.set(t,e),Array.isArray(t)){if(!Array.isArray(e)||e.length<t.length)return!1;for(let r of t){let s=!1;for(let l of e)if(d(l,r,n)){s=!0;break}if(!s)return!1}return!0}if(t instanceof Date)return e instanceof Date?e.valueOf()===t.valueOf():!1;if(t instanceof Set)return!(e instanceof Set)||e.size<t.size?!1:d(Array.from(e),Array.from(t),n);if(t instanceof Map){if(!(e instanceof Map)||e.size<t.size)return!1;for(let[r,s]of t)if(!e.has(r)||!d(e.get(r),s,n))return!1;return!0}if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;let i=Object.keys(e),o=Object.keys(t);if(i.length<o.length)return!1;for(let r of o)if(i.indexOf(r)===-1||!d(e[r],t[r],n))return!1;return!0}function H(...e){let t=[];for(let l of e)for(let u of l.split(/[\\/]/))u!==""&&t.push(u);let n=t[t.length-1]||"",i=n.lastIndexOf("."),o=i>-1?n.substring(i):"",r=i>-1?n.substring(0,i):n,s=t.length>0?t.slice(0,t.length-1).join("/"):"";return{parts:t,basename:n,extname:o,filename:r,dirname:s}}function J(e,t){let n=u=>{if(u=u.replace(/[\\]/g,"/").replace(/\/$/,""),u.charAt(0)==="/")throw new Error(`Invalid argument: ${u}`);return u==="."||u.charAt(0)==="."&&u.charAt(1)==="/"?u:"./"+u},i=n(e).split("/").filter(Boolean),o=n(t).split("/").filter(Boolean),r=0;for(;r<i.length&&r<o.length&&i[r]===o[r];)r++;let s=Array(i.length-r).fill("..").join("/"),l=o.slice(r).join("/");return s+(s&&l?"/":"")+l}function Q(e,t,n,i){let o=e/t;return o<n/i?[i*o,i]:[n,n/o]}function ee(e,t,n,i){let o=e/t;return o<n/i?[n,n/o]:[i*o,i]}function te(e){return e===void 0?"undefined":e===null?"null":Array.isArray(e)?"array":e instanceof Date?"date":e instanceof RegExp?"regexp":typeof e}function N(e){return typeof e=="string"&&!Number.isNaN(parseFloat(e))&&Number.isFinite(parseFloat(e))}function ne(e){if(N(e))return parseFloat(e);if(typeof e=="number")return e;if(typeof e=="boolean")return e?1:0;if(!e)return 0;throw new Error(`Invalid argument type: ${typeof e}`)}
