function j(e){if(e.length===0)throw new Error("Invalid argument: arr.length === 0");let t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER,r=0,i=0,s=0,o={};for(let a of e)t<a&&(t=a),n>a&&(n=a),o[a]?o[a]+=1:o[a]=1,i<o[a]&&(i=o[a],r=a),s+=a;return{max:t,min:n,sum:s,mean:s/e.length,mode:r,modeCount:i}}function z(e){let t=e.length;for(;t>0;){let n=Math.floor(Math.random()*t);t--,[e[t],e[n]]=[e[n],e[t]]}return e}function F(...e){if(e.length===0)return[];for(let i in e)if(i.length===0)throw new Error("Invalid argument: argument cannot be empty");let t=Array(e.length).fill(0),n=[e.map((i,s)=>t[s])],r=e.length-1;for(;;)if(t[r]<e[r].length-1)t[r]+=1,n.push(e.map((i,s)=>t[s])),r=e.length-1;else if(t[r]=0,r--,r<0)return n}function G(e,t){let n={};for(let r of e){let i=t(r);n[i]?n[i].push(r):n[i]=[r]}return n}function D(e){return new Promise(t=>setTimeout(t,e))}function L(e){return{equals:t=>!!(e&t),set:t=>e|=t,unset:t=>e&=~t,invert:t=>e^=t}}function T(e){return e===null||typeof e!="object"?e:e instanceof Date?new Date(e.getTime()):e instanceof RegExp?new RegExp(e.source,e.flags):Array.isArray(e)?e.map(t=>T(t)):Object.entries(e).reduce((t,n)=>(t[n[0]]=T(n[1]),t),{})}function Z(e){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let n=Math.random()*16|0;return(t==="x"?n:n&3|8).toString(16)})}function v(e){return e.charAt(Math.floor(Math.random()*e.length))}function _(e,t){let n="";for(let r=0;r<t;r++)n+=v(e);return n}function q(e){return e.match(/([0-9]+)/g)?.map(t=>parseInt(t))||[]}function U(e){return e.match(/[0-9]+(\.[0-9]+)?/g)?.map(t=>parseFloat(t))||[]}function H(e){return e.replace(/[！-～]/g,t=>String.fromCharCode(t.charCodeAt(0)-65248)).replace(/[^\S\r\n]/g," ")}function J(e){let t=e.split("/");if(t.length<3)throw new Error(`Invalid argument: ${e}`);let n=t.pop(),r=t.slice(1).join("/");return new RegExp(r,n)}function m(e,t=!1){return e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),t?e.replace(/ /g,"&nbsp;"):e}function x(e){return e.replace(/&nbsp;|&#32;|&#160;/g," ").replace(/&lt;|&#60;/g,"<").replace(/&gt;|&#62;/g,">").replace(/&quot;|&#34;/g,'"').replace(/&apos;|&#39;/g,"'").replace(/&amp;|&#38;/g,"&")}function Q(e,t){let n=[];for(let o=0;o<e.length+1;o++){n.push([]);for(let a=0;a<e.length+1;a++)n[o][a]=0}for(let o=1;o<=e.length;o++)for(let a=1;a<=t.length;a++)e[o-1]===t[a-1]?n[o][a]=n[o-1][a-1]+1:n[o][a]=Math.max(n[o-1][a],n[o][a-1]);let r=[],i=e.length,s=t.length;for(;i>0||s>0;){let o=r[r.length-1],a=e[i-1],l=t[s-1];i>0&&s>0&&a===l?(o&&o[0]===0?o[1]=a+o[1]:r.push([0,a]),i--,s--):s>0&&(i===0||n[i][s-1]>=n[i-1][s])?(o&&o[0]===1?o[1]=l+o[1]:r.push([1,l]),s--):i>0&&(s===0||n[i][s-1]<n[i-1][s])&&(o&&o[0]===-1?o[1]=a+o[1]:r.push([-1,a]),i--)}return r.reverse()}function R(e,t){let n=t;for(;n<e.length;){if(/\s|>/.test(e[n]))return n!==t?e.substring(t,n):void 0;n++}}function y(e,t){let n=t,r=t,i=[],s=null,o,a=function(u){u=u.trim(),u!==""&&i.push(u)};for(;r<e.length;){let u=e[r];if(s)u==="\\"?r++:u===s&&(s=null,a(e.substring(n,r+1)),n=r+1);else{if(u===">"){let c=e.substring(n,r);/^\s*[/?]$/.test(c)?o=c:a(c),r++;break}/\s/.test(u)?(a(e.substring(n,r)),n=r):(u==='"'||u==="'")&&(s=u)}r++}let l={};for(let u of i){let[c,...f]=u.split("=");if(f.length===0)l[c]=!0;else{let d=f.join("=");d.startsWith('"')&&d.endsWith('"')||d.startsWith("'")&&d.endsWith("'")?l[c]=d.substring(1,d.length-1):l[c]=d}}return{startIndex:t,endIndex:r,closer:o,attrs:l}}function p(e){return e.type==="root"||e.type==="tag"}function h(e){return e.type==="tag"||e.type==="text"||e.type==="comment"}function b(e){e=x(e);let t=[],n=0,r=e.indexOf("<",n),i=function(o){n=o,r=e.indexOf("<",n)};for(;n<e.length;){if(r!==n){let a=r>-1?r:e.length;t.push({isClosed:!0,type:"text",content:e.substring(n,a)})}if(r===-1)break;let o=R(e,r+1);if(!o){let a=t[t.length-1];typeof a.content=="string"&&(a.content+=e[r]),i(r+1);continue}if(o.startsWith("!--")){let a=e.indexOf("-->",r+4);if(a===-1)throw new Error(`Invalid argument: could not find closing tag "-->" after ${r+4}`);t.push({type:"comment",content:e.substring(r+4,a)}),i(a+3)}else if(o==="style"||o==="script"){let{endIndex:a,attrs:l}=y(e,r+1+o.length),u=e.indexOf(`</${o}>`,a);if(u===-1)throw new Error(`Invalid argument: could not find closing tag "</${o}>" after ${a}`);let c={isClosed:!0,type:"tag",tag:o,attrs:l,children:[]},f={isClosed:!0,type:"text",parent:c,content:e.substring(a,u)};c.children.push(f),t.push(c,f),i(u+3+o.length)}else if(o.startsWith("/")){let a=o.substring(1),l=[];for(let u=t.length-1;u>=0;u--){let c=t[u];if(!c.isClosed&&c.tag===a){c.children=[...l.reverse(),...c.children];for(let f of l)f.parent=c;c.isClosed=!0;break}c.parent||l.push(c)}i(r+o.length+2)}else{let{endIndex:a,closer:l,attrs:u}=y(e,r+o.length+1);t.push({isClosed:!!l,type:"tag",tag:o,closer:l,attrs:u,children:[]}),i(a)}}let s={type:"root",children:[]};for(let o of t)o.type==="tag"&&!o.isClosed&&(o.closer="",o.isClosed=!0),delete o.isClosed,o.parent||(o.parent=s,s.children.push(o));return s}function C(e,t){let n=[],r=function(i,s){for(let o=0;o<i.children.length;o++){let a=i.children[o];n.push(t(a,s,o,i.children)),a.type==="tag"&&r(a,s+1)}};return r(e,1),n}function P(e,t,n){let r=n,i=function(s,o){for(let a=0;a<s.children.length;a++){let l=s.children[a];r=t(r,l,o,a,s.children),l.type==="tag"&&i(l,o+1)}};return i(e,1),r}function B(e,t){let n=function(r,i){for(let s=0;s<r.children.length;s++){let o=r.children[s];if(t(o,i,s,r.children))return o;if(o.type==="tag"){let a=n(o,i+1);if(a)return a}}};return n(e,1)}function w(e,t){let n=[],r=function(i,s){for(let o=0;o<i.children.length;o++){let a=i.children[o];t(a,s,o,i.children)&&n.push(a),a.type==="tag"&&r(a,s+1)}};return r(e,1),n}function N(e,t){let n=[],r=function(i,s){i.parent&&(n.push(t(i.parent,s,i)),i.parent.type!=="root"&&r(i.parent,s+1))};return r(e,1),n}function S(e,t,n){let r=n,i=function(s,o){if(s.parent){if(t(r,s.parent,o,s))return s.parent;s.parent.type!=="root"&&i(s.parent,o+1)}};return i(e,1),r}function k(e,t){let n=function(r,i){if(r.parent){if(t(r.parent,i,r))return r.parent;r.parent.type!=="root"&&n(r.parent,i+1)}};return n(e,1)}function A(e,t){let n=[],r=function(i,s){i.parent&&(t(i.parent,s,i)&&n.push(i.parent),i.parent.type!=="root"&&r(i.parent,s+1))};return r(e,1),n}function O(e){let t=function(r){let i="";for(let[s,o]of Object.entries(r))typeof o=="string"?i+=` ${s}="${o}"`:typeof o=="boolean"?o&&(i+=` ${s}`):typeof o=="object"&&typeof o.toString=="function"&&(i+=` ${s}="${o.toString()}"`);return i},n=function(r){let i="";if(r.type==="text"){let s=r.parent;s&&s.type==="tag"&&(s.tag==="script"||s.tag==="style")?i+=r.content:i+=m(r.content)}else if(r.type==="comment")i+=`<!--${r.content}-->`;else if(r.type==="tag")if(i+=`<${r.tag}${t(r.attrs)}`,typeof r.closer=="string")i+=`${r.closer}>`;else{i+=">";for(let s of r.children)i+=n(s);i+=`</${r.tag}>`}else for(let s of r.children)i+=n(s);return i};return n(e)}function E(e){let t=[],n=function(r){if(r.type==="text"||r.type==="comment")t.push(r.content);else for(let i of r.children)n(i)};return n(e),t}var M=class{constructor(t){if(typeof t=="string")this.node=b(t);else if(typeof t=="object"&&["root","tag","text","comment"].indexOf(t.type)>-1)this.node=t;else throw new Error("Invalid argument: argument must be string or TreeNode")}isParent(){return p(this.node)}isChild(){return h(this.node)}getChildren(t){return p(this.node)?C(this.node,t):[]}accChildren(t,n){return p(this.node)?P(this.node,t,n):n}findChild(t){if(p(this.node))return B(this.node,t)}findChildren(t){return p(this.node)?w(this.node,t):[]}getParents(t){return h(this.node)?N(this.node,t):[]}accParents(t,n){return h(this.node)?S(this.node,t,n):n}findParent(t){if(h(this.node))return k(this.node,t)}findParents(t){return h(this.node)?A(this.node,t):[]}getContents(){return E(this.node)}toString(){return O(this.node)}static{this.isParent=p}static{this.isChild=h}static{this.parse=b}static{this.stringify=O}static{this.getContents=E}static{this.getChildren=C}static{this.accChildren=P}static{this.findChild=B}static{this.findChildren=w}static{this.getParents=N}static{this.accParents=S}static{this.findParent=k}static{this.findParents=A}};function ne(e,t){let n=t.length;if(n===0)throw new Error("Invalid argument: salt.length === 0");let r="";for(let i=0;i<e.length;i++)r+=String.fromCharCode(e.charCodeAt(i)^t.charCodeAt(i%n));return r}function ie(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<=127?t+=1:r<=2047?t+=2:r<=65535?t+=3:t+=4}return t}function $(e,t,n){let r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=r.indexOf(t);if(i===-1)throw new Error(`Invalid source unit: ${t}`);let s=r.indexOf(n);if(s===-1)throw new Error(`Invalid destination unit: ${n}`);return e*Math.pow(1024,i-s)}function oe(e,t){let n=$(e,t,"Bytes");if(n===0)return"0 Bytes";let r=Math.floor(Math.log(n)/Math.log(1024));return(n/Math.pow(1024,r)).toFixed(2)+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}function ae(e,t){return Math.random()*(t-e)+e}function le(e,t,n){return Math.min(n,Math.max(e,t))}function ue(e,t,n){return e-=t,n-=t,e<0&&(e=e%n+n),e>=n&&(e=e%n),e+t}function fe(e,t){let n=e;for(let r of t.split(".")){if(typeof n!="object"||n===null)break;n=n[r]}return n}function g(e,t,n=new WeakMap){if(Object.is(e,t))return!0;if(typeof e!=typeof t)return!1;if(typeof t!="object")return e===t;if(t===null)return e===null;if(n.has(t))return n.get(t)===e;if(n.set(t,e),Array.isArray(t)){if(!Array.isArray(e)||e.length<t.length)return!1;for(let s of t){let o=!1;for(let a of e)if(g(a,s,n)){o=!0;break}if(!o)return!1}return!0}if(t instanceof Date)return e instanceof Date?e.valueOf()===t.valueOf():!1;if(t instanceof Set)return!(e instanceof Set)||e.size<t.size?!1:g(Array.from(e),Array.from(t),n);if(t instanceof Map){if(!(e instanceof Map)||e.size<t.size)return!1;for(let[s,o]of t)if(!e.has(s)||!g(e.get(s),o,n))return!1;return!0}if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;let r=Object.keys(e),i=Object.keys(t);if(r.length<i.length)return!1;for(let s of i)if(r.indexOf(s)===-1||!g(e[s],t[s],n))return!1;return!0}function pe(...e){let t=[];for(let a of e)for(let l of a.split(/[\\/]/))l!==""&&t.push(l);let n=t[t.length-1]||"",r=n.lastIndexOf("."),i=r>-1?n.substring(r):"",s=r>-1?n.substring(0,r):n,o=t.length>0?t.slice(0,t.length-1).join("/"):"";return{parts:t,basename:n,extname:i,filename:s,dirname:o}}function he(e,t){let n=l=>{if(l=l.replace(/[\\]/g,"/").replace(/\/$/,""),l.charAt(0)==="/")throw new Error(`Invalid argument: ${l}`);return l==="."||l.charAt(0)==="."&&l.charAt(1)==="/"?l:"./"+l},r=n(e).split("/").filter(Boolean),i=n(t).split("/").filter(Boolean),s=0;for(;s<r.length&&s<i.length&&r[s]===i[s];)s++;let o=Array(r.length-s).fill("..").join("/"),a=i.slice(s).join("/");return o+(o&&a?"/":"")+a}function Te(e,t,n,r){let i=e/t;return i<n/r?[r*i,r]:[n,n/i]}function me(e,t,n,r){let i=e/t;return i<n/r?[n,n/i]:[r*i,r]}function ye(e){return e===void 0?"undefined":e===null?"null":Array.isArray(e)?"array":e instanceof Date?"date":e instanceof RegExp?"regexp":typeof e}function I(e){return typeof e=="string"&&!Number.isNaN(parseFloat(e))&&Number.isFinite(parseFloat(e))}function be(e){if(I(e))return parseFloat(e);if(typeof e=="number")return e;if(typeof e=="boolean")return e?1:0;if(!e)return 0;throw new Error(`Invalid argument type: ${typeof e}`)}export{M as Tree,L as bitwise,ie as calcStringSize,T as clone,g as compareObject,Q as compareString,$ as convertFileSize,m as escapeXML,le as getClampedNumber,Te as getContainedSize,me as getCoveredSize,U as getFloats,q as getInts,ue as getLoopedNumber,fe as getObjectValue,v as getRandomCharacter,ae as getRandomNumber,_ as getRandomString,he as getRelativePath,ye as getType,Z as getUUID,G as groupBy,oe as humanizeFileSize,I as isNumeric,H as normalizeString,b as parse,j as parseNumbers,pe as parsePath,F as plotBy,z as shuffleArray,D as sleep,be as toNumber,J as toRegExp,x as unescapeXML,ne as xor};
