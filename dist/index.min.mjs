function v(e){if(e.length===0)throw new Error("Invalid argument: arr.length === 0");let t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER,o=0,i=0,a=0,s={};for(let r of e)t<r&&(t=r),n>r&&(n=r),s[r]?s[r]+=1:s[r]=1,i<s[r]&&(i=s[r],o=r),a+=r;return{max:t,min:n,sum:a,mean:a/e.length,mode:o,modeCount:i}}function S(e){let t=e.length;for(;t>0;){let n=Math.floor(Math.random()*t);t--,[e[t],e[n]]=[e[n],e[t]]}return e}function k(...e){if(e.length===0)return[];for(let i in e)if(i.length===0)throw new Error("Invalid argument: argument cannot be empty");let t=Array(e.length).fill(0),n=[e.map((i,a)=>t[a])],o=e.length-1;for(;;)if(t[o]<e[o].length-1)t[o]+=1,n.push(e.map((i,a)=>t[a])),o=e.length-1;else if(t[o]=0,o--,o<0)return n}function R(e,t){let n={};for(let o of e){let i=t(o);n[i]?n[i].push(o):n[i]=[o]}return n}function j(e){return new Promise(t=>setTimeout(t,e))}function z(e){return{equals:t=>!!(e&t),set:t=>e|=t,unset:t=>e&=~t,invert:t=>e^=t}}function B(e){return e===null||typeof e!="object"?e:e instanceof Date?new Date(e.getTime()):e instanceof RegExp?new RegExp(e.source,e.flags):Array.isArray(e)?e.map(t=>B(t)):Object.entries(e).reduce((t,n)=>(t[n[0]]=B(n[1]),t),{})}function G(e){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let n=Math.random()*16|0;return(t==="x"?n:n&3|8).toString(16)})}function M(e){return e.charAt(Math.floor(Math.random()*e.length))}function D(e,t){let n="";for(let o=0;o<t;o++)n+=M(e);return n}function K(e){return e.match(/([0-9]+)/g)?.map(t=>parseInt(t))||[]}function L(e){return e.match(/[0-9]+(\.[0-9]+)?/g)?.map(t=>parseFloat(t))||[]}function X(e){return e.replace(/[！-～]/g,t=>String.fromCharCode(t.charCodeAt(0)-65248)).replace(/[^\S\r\n]/g," ")}function Y(e){let t=e.split("/");if(t.length<3)throw new Error(`Invalid argument: ${e}`);let n=t.pop(),o=t.slice(1).join("/");return new RegExp(o,n)}function I(e,t=!1){return e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),t?e.replace(/ /g,"&nbsp;"):e}function w(e){return e.replace(/&nbsp;|&#32;|&#160;/g," ").replace(/&lt;|&#60;/g,"<").replace(/&gt;|&#62;/g,">").replace(/&quot;|&#34;/g,'"').replace(/&apos;|&#39;/g,"'").replace(/&amp;|&#38;/g,"&")}function Z(e,t){let n=[];for(let s=0;s<e.length+1;s++){n.push([]);for(let r=0;r<e.length+1;r++)n[s][r]=0}for(let s=1;s<=e.length;s++)for(let r=1;r<=t.length;r++)e[s-1]===t[r-1]?n[s][r]=n[s-1][r-1]+1:n[s][r]=Math.max(n[s-1][r],n[s][r-1]);let o=[],i=e.length,a=t.length;for(;i>0||a>0;){let s=o[o.length-1],r=e[i-1],f=t[a-1];i>0&&a>0&&r===f?(s&&s[0]===0?s[1]=r+s[1]:o.push([0,r]),i--,a--):a>0&&(i===0||n[i][a-1]>=n[i-1][a])?(s&&s[0]===1?s[1]=f+s[1]:o.push([1,f]),a--):i>0&&(a===0||n[i][a-1]<n[i-1][a])&&(s&&s[0]===-1?s[1]=r+s[1]:o.push([-1,r]),i--)}return o.reverse()}var E=class e{constructor(t){this.map=new WeakSet,this.nodes=e.parse(t)}set(t,...n){for(let o of n)if(this.map.has(o))throw new Error("Node already exists");for(let o of this.nodes)if(o==t){for(let i of o.children)this.remove(i);for(let i of n)o.children.push(i),this.nodes.push(i),i.depth=o.depth+1,i.parent=o;return!0}return!1}add(t,...n){for(let o of n)if(this.map.has(o))throw new Error("Node already exists");for(let o of this.nodes)if(o==t){for(let i of n)o.children.push(i),this.nodes.push(i),i.depth=o.depth+1,i.parent=o;return!0}return!1}remove(t){for(let n=0;n<this.nodes.length;n++)if(this.nodes[n]==t)return this.nodes.splice(n,1),this.map.delete(t),delete t.parent,t.depth=0,!0;return!1}toString(){return e.stringify(this.nodes)}static parse(t){let n=function(r,f){let u=f+1,c=f+1,l=[],h=null;for(;c<r.length;){let p=r[c];if(h)p==="\\"?c++:p===h&&(h=null,l.push(r.substring(u,c+1)),u=c+1);else{if(p===">"){l.push(r.substring(u,c)),c++;break}p===" "?(l.push(r.substring(u,c)),u=c):(p==='"'||p==="'")&&(h=p)}c++}l=l.filter(Boolean);let y=l.shift();if(!y)throw new Error("Invalid argument: Tag name not found");let m={},d;l.length>0&&/^\s*[/?]$/.test(l[l.length-1])&&(d=l.pop());for(let p of l){let g=p.trim(),x=g.indexOf("=");x===-1?m[g]=!0:m[g.substring(0,x)]=g.substring(x+2,g.length-1)}return{startIndex:f,endIndex:c,closer:d,tag:y,attrs:m}},o=function(r,f){if(f>=r.length)return[];let u=r.indexOf("<",f);if(u===-1)return[{startIndex:f,endIndex:r.length,type:"text",content:r.substring(f)}];if(r.substring(u,u+4)==="<!--"){let d=r.indexOf("-->",u+4);if(d===-1)throw new Error('Invalid argument: could not find closing bracket "-->"');return[{startIndex:f,endIndex:u,type:"text",content:r.substring(f,u)},{startIndex:u,endIndex:d+3,type:"comment",content:r.substring(u+4,d)}]}for(let[d,p]of[["<style","</style>"],["<script","<\/script>"]])if(r.substring(u,u+d.length)===d){let g=r.indexOf(p,u+d.length);if(g===-1)throw new Error(`Invalid argument: could not find closing tag "${p}"`);let{endIndex:x,tag:T,attrs:N}=n(r,u);return[{startIndex:f,endIndex:u,type:"text",content:r.substring(f,u)},{startIndex:u,endIndex:x,type:"tag",tag:T,attrs:N},{startIndex:x,endIndex:g,type:"text",content:r.substring(x,g)},{startIndex:g,endIndex:g+p.length,type:"tag",tag:"/"+T}]}let{startIndex:c,endIndex:l,tag:h,closer:y,attrs:m}=n(r,u);return[{startIndex:f,endIndex:u,type:"text",content:r.substring(f,u)},{startIndex:c,endIndex:l,type:"tag",closer:y,tag:h,attrs:m}]};t=w(t);let i=[],a=0,s=o(t,a);for(;s.length>0;){for(let r of s)if(r.type==="text")i.push({depth:0,type:"text",content:r.content});else if(r.type==="comment")i.push({depth:0,type:"comment",content:r.content});else if(r.tag[0]!=="/")i.push({isOpened:!r.closer,depth:0,type:"tag",tag:r.tag,...r.closer?{closer:r.closer}:{},attrs:r.attrs||{},children:[]});else{let f=[],u=r.tag.substring(1);for(let c=i.length-1;c>=0;c--){let l=i[c];if(l.isOpened&&l.type==="tag"&&l.tag===u){for(let h of f)l.children=[h,...l.children],h.parent=l;delete l.isOpened;break}l.depth===0&&f.push(l),l.depth++}}s=o(t,s[s.length-1].endIndex)}for(let r of i)r.type==="tag"&&r.isOpened&&(r.closer=""),delete r.isOpened;return i}static stringify(t){let n=function(s){let r="";for(let[f,u]of Object.entries(s))typeof u=="string"?r+=` ${f}="${u}"`:typeof u=="boolean"?u&&(r+=` ${f}`):typeof u=="object"&&typeof u.toString=="function"&&(r+=` ${f}="${u.toString()}"`);return r},o=function(s){let r="";if(s.type==="text"){let f=s.parent;f&&f.type==="tag"&&(f.tag==="script"||f.tag==="style")?r+=s.content:r+=I(s.content)}else if(s.type==="comment")r+=`<!--${s.content}-->`;else if(r+=`<${s.tag}${n(s.attrs)}`,typeof s.closer=="string")r+=`${s.closer}>`;else{r+=">";for(let f of s.children)r+=o(f);r+=`</${s.tag}>`}return r},i="",a=t.filter(s=>s.depth===0);for(let s of a)i+=o(s);return i}};function _(e,t){let n=t.length;if(n===0)throw new Error("Invalid argument: salt.length === 0");let o="";for(let i=0;i<e.length;i++)o+=String.fromCharCode(e.charCodeAt(i)^t.charCodeAt(i%n));return o}function H(e){let t=0;for(let n=0;n<e.length;n++){let o=e.charCodeAt(n);o<=127?t+=1:o<=2047?t+=2:o<=65535?t+=3:t+=4}return t}function O(e,t,n){let o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=o.indexOf(t);if(i===-1)throw new Error(`Invalid source unit: ${t}`);let a=o.indexOf(n);if(a===-1)throw new Error(`Invalid destination unit: ${n}`);return e*Math.pow(1024,i-a)}function J(e,t){let n=O(e,t,"Bytes");if(n===0)return"0 Bytes";let o=Math.floor(Math.log(n)/Math.log(1024));return(n/Math.pow(1024,o)).toFixed(2)+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][o]}function ee(e,t){return Math.random()*(t-e)+e}function te(e,t,n){return Math.min(n,Math.max(e,t))}function ne(e,t,n){return e-=t,n-=t,e<0&&(e=e%n+n),e>=n&&(e=e%n),e+t}function oe(e,t){let n=e;for(let o of t.split(".")){if(typeof n!="object"||n===null)break;n=n[o]}return n}function b(e,t,n=new WeakMap){if(Object.is(e,t))return!0;if(typeof e!=typeof t)return!1;if(typeof t!="object")return e===t;if(t===null)return e===null;if(n.has(t))return n.get(t)===e;if(n.set(t,e),Array.isArray(t)){if(!Array.isArray(e)||e.length<t.length)return!1;for(let a of t){let s=!1;for(let r of e)if(b(r,a,n)){s=!0;break}if(!s)return!1}return!0}if(t instanceof Date)return e instanceof Date?e.valueOf()===t.valueOf():!1;if(t instanceof Set)return!(e instanceof Set)||e.size<t.size?!1:b(Array.from(e),Array.from(t),n);if(t instanceof Map){if(!(e instanceof Map)||e.size<t.size)return!1;for(let[a,s]of t)if(!e.has(a)||!b(e.get(a),s,n))return!1;return!0}if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;let o=Object.keys(e),i=Object.keys(t);if(o.length<i.length)return!1;for(let a of i)if(o.indexOf(a)===-1||!b(e[a],t[a],n))return!1;return!0}function se(...e){let t=[];for(let r of e)for(let f of r.split(/[\\/]/))f!==""&&t.push(f);let n=t[t.length-1]||"",o=n.lastIndexOf("."),i=o>-1?n.substring(o):"",a=o>-1?n.substring(0,o):n,s=t.length>0?t.slice(0,t.length-1).join("/"):"";return{parts:t,basename:n,extname:i,filename:a,dirname:s}}function fe(e,t){let n=f=>{if(f=f.replace(/[\\]/g,"/").replace(/\/$/,""),f.charAt(0)==="/")throw new Error(`Invalid argument: ${f}`);return f==="."||f.charAt(0)==="."&&f.charAt(1)==="/"?f:"./"+f},o=n(e).split("/").filter(Boolean),i=n(t).split("/").filter(Boolean),a=0;for(;a<o.length&&a<i.length&&o[a]===i[a];)a++;let s=Array(o.length-a).fill("..").join("/"),r=i.slice(a).join("/");return s+(s&&r?"/":"")+r}function ue(e,t,n,o){let i=e/t;return i<n/o?[o*i,o]:[n,n/i]}function le(e,t,n,o){let i=e/t;return i<n/o?[n,n/i]:[o*i,o]}function pe(e){return e===void 0?"undefined":e===null?"null":Array.isArray(e)?"array":e instanceof Date?"date":e instanceof RegExp?"regexp":typeof e}function A(e){return typeof e=="string"&&!Number.isNaN(parseFloat(e))&&Number.isFinite(parseFloat(e))}function ge(e){if(A(e))return parseFloat(e);if(typeof e=="number")return e;if(typeof e=="boolean")return e?1:0;if(!e)return 0;throw new Error(`Invalid argument type: ${typeof e}`)}export{E as Tree,z as bitwise,H as calcStringSize,B as clone,b as compareObject,Z as compareString,O as convertFileSize,I as escapeXML,te as getClampedNumber,ue as getContainedSize,le as getCoveredSize,L as getFloats,K as getInts,ne as getLoopedNumber,oe as getObjectValue,M as getRandomCharacter,ee as getRandomNumber,D as getRandomString,fe as getRelativePath,pe as getType,G as getUUID,R as groupBy,J as humanizeFileSize,A as isNumeric,X as normalizeString,v as parseNumbers,se as parsePath,k as plotBy,S as shuffleArray,j as sleep,ge as toNumber,Y as toRegExp,w as unescapeXML,_ as xor};
