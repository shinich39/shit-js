"use strict";var b=Object.defineProperty;var $=Object.getOwnPropertyDescriptor;var j=Object.getOwnPropertyNames;var z=Object.prototype.hasOwnProperty;var F=(e,t)=>{for(var n in t)b(e,n,{get:t[n],enumerable:!0})},_=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of j(t))!z.call(e,o)&&o!==n&&b(e,o,{get:()=>t[o],enumerable:!(r=$(t,o))||r.enumerable});return e};var G=e=>_(b({},"__esModule",{value:!0}),e);var ge={};F(ge,{Tree:()=>R,bitwise:()=>Z,calcStringSize:()=>te,clone:()=>B,compareObject:()=>y,compareString:()=>Q,convertFileSize:()=>v,escapeXML:()=>O,getClampedNumber:()=>oe,getContainedSize:()=>ce,getCoveredSize:()=>le,getFloats:()=>W,getInts:()=>V,getLoopedNumber:()=>ie,getObjectValue:()=>se,getRandomCharacter:()=>C,getRandomNumber:()=>re,getRandomString:()=>U,getRelativePath:()=>ae,getType:()=>ue,getUUID:()=>q,groupBy:()=>X,humanizeFileSize:()=>ne,isNumeric:()=>A,normalizeString:()=>H,parseNumbers:()=>D,parsePath:()=>fe,plotBy:()=>L,shuffleArray:()=>K,sleep:()=>Y,toNumber:()=>pe,toRegExp:()=>J,unescapeXML:()=>I,xor:()=>ee});module.exports=G(ge);function D(e){if(e.length===0)throw new Error("Invalid argument: arr.length === 0");let t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER,r=0,o=0,s=0,f={};for(let i of e)t<i&&(t=i),n>i&&(n=i),f[i]?f[i]+=1:f[i]=1,o<f[i]&&(o=f[i],r=i),s+=i;return{max:t,min:n,sum:s,mean:s/e.length,mode:r,modeCount:o}}function K(e){let t=e.length;for(;t>0;){let n=Math.floor(Math.random()*t);t--,[e[t],e[n]]=[e[n],e[t]]}return e}function L(...e){if(e.length===0)return[];for(let o in e)if(o.length===0)throw new Error("Invalid argument: argument cannot be empty");let t=Array(e.length).fill(0),n=[e.map((o,s)=>t[s])],r=e.length-1;for(;;)if(t[r]<e[r].length-1)t[r]+=1,n.push(e.map((o,s)=>t[s])),r=e.length-1;else if(t[r]=0,r--,r<0)return n}function X(e,t){let n={};for(let r of e){let o=t(r);n[o]?n[o].push(r):n[o]=[r]}return n}function Y(e){return new Promise(t=>setTimeout(t,e))}function Z(e){return{equals:t=>!!(e&t),set:t=>e|=t,unset:t=>e&=~t,invert:t=>e^=t}}function B(e){return e===null||typeof e!="object"?e:e instanceof Date?new Date(e.getTime()):e instanceof RegExp?new RegExp(e.source,e.flags):Array.isArray(e)?e.map(t=>B(t)):Object.entries(e).reduce((t,n)=>(t[n[0]]=B(n[1]),t),{})}function q(e){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let n=Math.random()*16|0;return(t==="x"?n:n&3|8).toString(16)})}function C(e){return e.charAt(Math.floor(Math.random()*e.length))}function U(e,t){let n="";for(let r=0;r<t;r++)n+=C(e);return n}function V(e){return e.match(/([0-9]+)/g)?.map(t=>parseInt(t))||[]}function W(e){return e.match(/[0-9]+(\.[0-9]+)?/g)?.map(t=>parseFloat(t))||[]}function H(e){return e.replace(/[！-～]/g,t=>String.fromCharCode(t.charCodeAt(0)-65248)).replace(/[^\S\r\n]/g," ")}function J(e){let t=e.split("/");if(t.length<3)throw new Error(`Invalid argument: ${e}`);let n=t.pop(),r=t.slice(1).join("/");return new RegExp(r,n)}function O(e,t=!1){return e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),t?e.replace(/ /g,"&nbsp;"):e}function I(e){return e.replace(/&nbsp;|&#32;|&#160;/g," ").replace(/&lt;|&#60;/g,"<").replace(/&gt;|&#62;/g,">").replace(/&quot;|&#34;/g,'"').replace(/&apos;|&#39;/g,"'").replace(/&amp;|&#38;/g,"&")}function Q(e,t){let n=[];for(let f=0;f<e.length+1;f++){n.push([]);for(let i=0;i<e.length+1;i++)n[f][i]=0}for(let f=1;f<=e.length;f++)for(let i=1;i<=t.length;i++)e[f-1]===t[i-1]?n[f][i]=n[f-1][i-1]+1:n[f][i]=Math.max(n[f-1][i],n[f][i-1]);let r=[],o=e.length,s=t.length;for(;o>0||s>0;){let f=r[r.length-1],i=e[o-1],a=t[s-1];o>0&&s>0&&i===a?(f&&f[0]===0?f[1]=i+f[1]:r.push([0,i]),o--,s--):s>0&&(o===0||n[o][s-1]>=n[o-1][s])?(f&&f[0]===1?f[1]=a+f[1]:r.push([1,a]),s--):o>0&&(s===0||n[o][s-1]<n[o-1][s])&&(f&&f[0]===-1?f[1]=i+f[1]:r.push([-1,i]),o--)}return r.reverse()}function E(e){let t=function(i,a){let c=a+1,u=a+1,l=[],x=null;for(;u<i.length;){let p=i[u];if(x)p==="\\"?u++:p===x&&(x=null,l.push(i.substring(c,u+1)),c=u+1);else{if(p===">"){l.push(i.substring(c,u)),u++;break}p===" "?(l.push(i.substring(c,u)),c=u):(p==='"'||p==="'")&&(x=p)}u++}let T=l.shift();if(!T)throw new Error("Invalid argument: Tag name not found");let m={},d;l.length>0&&/^\s*[/?]$/.test(l[l.length-1])&&(d=l.pop());for(let p of l){let g=p.trim();if(g==="")continue;let h=g.indexOf("=");h===-1?m[g]=!0:m[g.substring(0,h)]=g.substring(h+2,g.length-1)}return{startIndex:a,endIndex:u,closer:d,tag:T,attrs:m}},n=function(i,a){if(a>=i.length)return;let c=i.indexOf("<",a);if(c===-1)return[{startIndex:a,endIndex:i.length,type:"text",content:i.substring(a)}];if(i.substring(c,c+4)==="<!--"){let d=i.indexOf("-->",c+4);if(d===-1)throw new Error('Invalid argument: could not find closing bracket "-->"');return[{startIndex:a,endIndex:c,type:"text",content:i.substring(a,c)},{startIndex:c,endIndex:d+3,type:"comment",content:i.substring(c+4,d)}]}for(let[d,p]of[["<style","</style>"],["<script","<\/script>"]])if(i.substring(c,c+d.length)===d){let g=i.indexOf(p,c+d.length);if(g===-1)throw new Error(`Invalid argument: could not find closing tag "${p}"`);let{endIndex:h,tag:w,attrs:P}=t(i,c);return[{startIndex:a,endIndex:c,type:"text",content:i.substring(a,c)},{startIndex:c,endIndex:h,type:"tag",tag:w,attrs:P},{startIndex:h,endIndex:g,type:"text",content:i.substring(h,g)},{startIndex:g,endIndex:g+p.length,type:"tag",tag:"/"+w}]}let{startIndex:u,endIndex:l,tag:x,closer:T,attrs:m}=t(i,c);return[{startIndex:a,endIndex:c,type:"text",content:i.substring(a,c)},{startIndex:u,endIndex:l,type:"tag",closer:T,tag:x,attrs:m}]};e=I(e);let r=[],o=0,s=n(e,o);for(;s;){for(let i of s)if(i.type==="text")r.push({isOpened:!1,type:"text",content:i.content});else if(i.type==="comment")r.push({isOpened:!1,type:"comment",content:i.content});else if(i.tag[0]!=="/")r.push({isOpened:!i.closer,type:"tag",tag:i.tag,...i.closer?{closer:i.closer}:{},attrs:i.attrs||{},children:[]});else{let a=[],c=i.tag.substring(1);for(let u=r.length-1;u>=0;u--){let l=r[u];if(l.isOpened&&l.type==="tag"&&l.tag===c){for(let x of a)l.children=[x,...l.children],x.parent=l;delete l.isOpened;break}l.parent||a.push(l)}}s=n(e,s[s.length-1].endIndex)}for(let i of r)i.type==="tag"&&i.isOpened&&(i.closer=""),delete i.isOpened;let f={type:"root",children:r.filter(i=>!i.parent)};for(let i of f.children)i.parent=f;return f}function M(e,t){let n=0,r=function(o){t(o,n++,e);for(let s of o.children)s.type==="tag"&&r(s)};r(e)}function S(e,t){let n=0,r=function(o){if(t(o,n++,e))return o;for(let s of o.children)if(s.type==="tag"){let f=r(s);if(f)return f}};return r(e)}function k(e,t){let n=[],r=0,o=function(s){t(s,r++,e)&&n.push(s);for(let f of s.children)f.type==="tag"&&o(f)};return o(e),n}function N(e){let t=function(r){let o="";for(let[s,f]of Object.entries(r))typeof f=="string"?o+=` ${s}="${f}"`:typeof f=="boolean"?f&&(o+=` ${s}`):typeof f=="object"&&typeof f.toString=="function"&&(o+=` ${s}="${f.toString()}"`);return o},n=function(r){let o="";if(r.type==="text"){let s=r.parent;s&&s.type==="tag"&&(s.tag==="script"||s.tag==="style")?o+=r.content:o+=O(r.content)}else if(r.type==="comment")o+=`<!--${r.content}-->`;else if(r.type==="tag")if(o+=`<${r.tag}${t(r.attrs)}`,typeof r.closer=="string")o+=`${r.closer}>`;else{o+=">";for(let s of r.children)o+=n(s);o+=`</${r.tag}>`}else for(let s of r.children)o+=n(s);return o};return n(e)}var R=class{constructor(t){if(typeof t=="string")this.root=E(t);else if(t.type==="root")this.root=t;else throw new Error("Invalid argument: argument must be string or TreeRoot")}map(t){return M(this.root,t)}find(t){return S(this.root,t)}filter(t){return k(this.root,t)}toString(){return N(this.root)}static{this.parse=E}static{this.map=M}static{this.find=S}static{this.filter=k}static{this.stringify=N}};function ee(e,t){let n=t.length;if(n===0)throw new Error("Invalid argument: salt.length === 0");let r="";for(let o=0;o<e.length;o++)r+=String.fromCharCode(e.charCodeAt(o)^t.charCodeAt(o%n));return r}function te(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<=127?t+=1:r<=2047?t+=2:r<=65535?t+=3:t+=4}return t}function v(e,t,n){let r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],o=r.indexOf(t);if(o===-1)throw new Error(`Invalid source unit: ${t}`);let s=r.indexOf(n);if(s===-1)throw new Error(`Invalid destination unit: ${n}`);return e*Math.pow(1024,o-s)}function ne(e,t){let n=v(e,t,"Bytes");if(n===0)return"0 Bytes";let r=Math.floor(Math.log(n)/Math.log(1024));return(n/Math.pow(1024,r)).toFixed(2)+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}function re(e,t){return Math.random()*(t-e)+e}function oe(e,t,n){return Math.min(n,Math.max(e,t))}function ie(e,t,n){return e-=t,n-=t,e<0&&(e=e%n+n),e>=n&&(e=e%n),e+t}function se(e,t){let n=e;for(let r of t.split(".")){if(typeof n!="object"||n===null)break;n=n[r]}return n}function y(e,t,n=new WeakMap){if(Object.is(e,t))return!0;if(typeof e!=typeof t)return!1;if(typeof t!="object")return e===t;if(t===null)return e===null;if(n.has(t))return n.get(t)===e;if(n.set(t,e),Array.isArray(t)){if(!Array.isArray(e)||e.length<t.length)return!1;for(let s of t){let f=!1;for(let i of e)if(y(i,s,n)){f=!0;break}if(!f)return!1}return!0}if(t instanceof Date)return e instanceof Date?e.valueOf()===t.valueOf():!1;if(t instanceof Set)return!(e instanceof Set)||e.size<t.size?!1:y(Array.from(e),Array.from(t),n);if(t instanceof Map){if(!(e instanceof Map)||e.size<t.size)return!1;for(let[s,f]of t)if(!e.has(s)||!y(e.get(s),f,n))return!1;return!0}if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;let r=Object.keys(e),o=Object.keys(t);if(r.length<o.length)return!1;for(let s of o)if(r.indexOf(s)===-1||!y(e[s],t[s],n))return!1;return!0}function fe(...e){let t=[];for(let i of e)for(let a of i.split(/[\\/]/))a!==""&&t.push(a);let n=t[t.length-1]||"",r=n.lastIndexOf("."),o=r>-1?n.substring(r):"",s=r>-1?n.substring(0,r):n,f=t.length>0?t.slice(0,t.length-1).join("/"):"";return{parts:t,basename:n,extname:o,filename:s,dirname:f}}function ae(e,t){let n=a=>{if(a=a.replace(/[\\]/g,"/").replace(/\/$/,""),a.charAt(0)==="/")throw new Error(`Invalid argument: ${a}`);return a==="."||a.charAt(0)==="."&&a.charAt(1)==="/"?a:"./"+a},r=n(e).split("/").filter(Boolean),o=n(t).split("/").filter(Boolean),s=0;for(;s<r.length&&s<o.length&&r[s]===o[s];)s++;let f=Array(r.length-s).fill("..").join("/"),i=o.slice(s).join("/");return f+(f&&i?"/":"")+i}function ce(e,t,n,r){let o=e/t;return o<n/r?[r*o,r]:[n,n/o]}function le(e,t,n,r){let o=e/t;return o<n/r?[n,n/o]:[r*o,r]}function ue(e){return e===void 0?"undefined":e===null?"null":Array.isArray(e)?"array":e instanceof Date?"date":e instanceof RegExp?"regexp":typeof e}function A(e){return typeof e=="string"&&!Number.isNaN(parseFloat(e))&&Number.isFinite(parseFloat(e))}function pe(e){if(A(e))return parseFloat(e);if(typeof e=="number")return e;if(typeof e=="boolean")return e?1:0;if(!e)return 0;throw new Error(`Invalid argument type: ${typeof e}`)}
