"use strict";var b=Object.defineProperty;var U=Object.getOwnPropertyDescriptor;var F=Object.getOwnPropertyNames;var G=Object.prototype.hasOwnProperty;var D=(e,t)=>{for(var n in t)b(e,n,{get:t[n],enumerable:!0})},K=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of F(t))!G.call(e,o)&&o!==n&&b(e,o,{get:()=>t[o],enumerable:!(r=U(t,o))||r.enumerable});return e};var L=e=>K(b({},"__esModule",{value:!0}),e);var he={};D(he,{Tree:()=>I,bitwise:()=>V,calcStringSize:()=>oe,clone:()=>C,compareObject:()=>T,compareString:()=>ne,convertFileSize:()=>$,escapeXML:()=>B,getClampedNumber:()=>ae,getContainedSize:()=>pe,getCoveredSize:()=>de,getFloats:()=>Q,getInts:()=>J,getLoopedNumber:()=>fe,getObjectValue:()=>le,getRandomCharacter:()=>w,getRandomNumber:()=>se,getRandomString:()=>H,getRelativePath:()=>ce,getType:()=>ge,getUUID:()=>W,groupBy:()=>q,humanizeFileSize:()=>ie,isNumeric:()=>j,normalizeString:()=>ee,parseNumbers:()=>X,parsePath:()=>ue,plotBy:()=>Z,shuffleArray:()=>Y,sleep:()=>_,toNumber:()=>xe,toRegExp:()=>te,unescapeXML:()=>O,xor:()=>re});module.exports=L(he);function X(e){if(e.length===0)throw new Error("Invalid argument: arr.length === 0");let t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER,r=0,o=0,i=0,a={};for(let s of e)t<s&&(t=s),n>s&&(n=s),a[s]?a[s]+=1:a[s]=1,o<a[s]&&(o=a[s],r=s),i+=s;return{max:t,min:n,sum:i,mean:i/e.length,mode:r,modeCount:o}}function Y(e){let t=e.length;for(;t>0;){let n=Math.floor(Math.random()*t);t--,[e[t],e[n]]=[e[n],e[t]]}return e}function Z(...e){if(e.length===0)return[];for(let o in e)if(o.length===0)throw new Error("Invalid argument: argument cannot be empty");let t=Array(e.length).fill(0),n=[e.map((o,i)=>t[i])],r=e.length-1;for(;;)if(t[r]<e[r].length-1)t[r]+=1,n.push(e.map((o,i)=>t[i])),r=e.length-1;else if(t[r]=0,r--,r<0)return n}function q(e,t){let n={};for(let r of e){let o=t(r);n[o]?n[o].push(r):n[o]=[r]}return n}function _(e){return new Promise(t=>setTimeout(t,e))}function V(e){return{equals:t=>!!(e&t),set:t=>e|=t,unset:t=>e&=~t,invert:t=>e^=t}}function C(e){return e===null||typeof e!="object"?e:e instanceof Date?new Date(e.getTime()):e instanceof RegExp?new RegExp(e.source,e.flags):Array.isArray(e)?e.map(t=>C(t)):Object.entries(e).reduce((t,n)=>(t[n[0]]=C(n[1]),t),{})}function W(e){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let n=Math.random()*16|0;return(t==="x"?n:n&3|8).toString(16)})}function w(e){return e.charAt(Math.floor(Math.random()*e.length))}function H(e,t){let n="";for(let r=0;r<t;r++)n+=w(e);return n}function J(e){return e.match(/([0-9]+)/g)?.map(t=>parseInt(t))||[]}function Q(e){return e.match(/[0-9]+(\.[0-9]+)?/g)?.map(t=>parseFloat(t))||[]}function ee(e){return e.replace(/[！-～]/g,t=>String.fromCharCode(t.charCodeAt(0)-65248)).replace(/[^\S\r\n]/g," ")}function te(e){let t=e.split("/");if(t.length<3)throw new Error(`Invalid argument: ${e}`);let n=t.pop(),r=t.slice(1).join("/");return new RegExp(r,n)}function B(e,t=!1){return e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),t?e.replace(/ /g,"&nbsp;"):e}function O(e){return e.replace(/&nbsp;|&#32;|&#160;/g," ").replace(/&lt;|&#60;/g,"<").replace(/&gt;|&#62;/g,">").replace(/&quot;|&#34;/g,'"').replace(/&apos;|&#39;/g,"'").replace(/&amp;|&#38;/g,"&")}function ne(e,t){let n=[];for(let a=0;a<e.length+1;a++){n.push([]);for(let s=0;s<e.length+1;s++)n[a][s]=0}for(let a=1;a<=e.length;a++)for(let s=1;s<=t.length;s++)e[a-1]===t[s-1]?n[a][s]=n[a-1][s-1]+1:n[a][s]=Math.max(n[a-1][s],n[a][s-1]);let r=[],o=e.length,i=t.length;for(;o>0||i>0;){let a=r[r.length-1],s=e[o-1],f=t[i-1];o>0&&i>0&&s===f?(a&&a[0]===0?a[1]=s+a[1]:r.push([0,s]),o--,i--):i>0&&(o===0||n[o][i-1]>=n[o-1][i])?(a&&a[0]===1?a[1]=f+a[1]:r.push([1,f]),i--):o>0&&(i===0||n[o][i-1]<n[o-1][i])&&(a&&a[0]===-1?a[1]=s+a[1]:r.push([-1,s]),o--)}return r.reverse()}function E(e){let t=function(s,f){let l=f+1,c=f+1,u=[],x=null;for(;c<s.length;){let p=s[c];if(x)p==="\\"?c++:p===x&&(x=null,u.push(s.substring(l,c+1)),l=c+1);else{if(p===">"){u.push(s.substring(l,c)),c++;break}p===" "?(u.push(s.substring(l,c)),l=c):(p==='"'||p==="'")&&(x=p)}c++}let y=u.shift();if(!y)throw new Error("Invalid argument: Tag name not found");let m={},g;u.length>0&&/^\s*[/?]$/.test(u[u.length-1])&&(g=u.pop());for(let p of u){let d=p.trim();if(d==="")continue;let h=d.indexOf("=");h===-1?m[d]=!0:m[d.substring(0,h)]=d.substring(h+2,d.length-1)}return{startIndex:f,endIndex:c,closer:g,tag:y,attrs:m}},n=function(s,f){if(f>=s.length)return;let l=s.indexOf("<",f);if(l===-1)return[{startIndex:f,endIndex:s.length,type:"text",content:s.substring(f)}];if(s.substring(l,l+4)==="<!--"){let g=s.indexOf("-->",l+4);if(g===-1)throw new Error('Invalid argument: could not find closing bracket "-->"');return[{startIndex:f,endIndex:l,type:"text",content:s.substring(f,l)},{startIndex:l,endIndex:g+3,type:"comment",content:s.substring(l+4,g)}]}for(let[g,p]of[["<style","</style>"],["<script","<\/script>"]])if(s.substring(l,l+g.length)===g){let d=s.indexOf(p,l+g.length);if(d===-1)throw new Error(`Invalid argument: could not find closing tag "${p}"`);let{endIndex:h,tag:P,attrs:z}=t(s,l);return[{startIndex:f,endIndex:l,type:"text",content:s.substring(f,l)},{startIndex:l,endIndex:h,type:"tag",tag:P,attrs:z},{startIndex:h,endIndex:d,type:"text",content:s.substring(h,d)},{startIndex:d,endIndex:d+p.length,type:"tag",tag:"/"+P}]}let{startIndex:c,endIndex:u,tag:x,closer:y,attrs:m}=t(s,l);return[{startIndex:f,endIndex:l,type:"text",content:s.substring(f,l)},{startIndex:c,endIndex:u,type:"tag",closer:y,tag:x,attrs:m}]};e=O(e);let r=[],o=0,i=n(e,o);for(;i;){for(let s of i)if(s.type==="text")r.push({isOpened:!1,type:"text",content:s.content});else if(s.type==="comment")r.push({isOpened:!1,type:"comment",content:s.content});else if(s.tag[0]!=="/")r.push({isOpened:!s.closer,type:"tag",tag:s.tag,...s.closer?{closer:s.closer}:{},attrs:s.attrs||{},children:[]});else{let f=[],l=s.tag.substring(1);for(let c=r.length-1;c>=0;c--){let u=r[c];if(u.isOpened&&u.type==="tag"&&u.tag===l){for(let x of f)u.children=[x,...u.children],x.parent=u;delete u.isOpened;break}u.parent||f.push(u)}}i=n(e,i[i.length-1].endIndex)}for(let s of r)s.type==="tag"&&s.isOpened&&(s.closer=""),delete s.isOpened;let a={type:"root",children:r.filter(s=>!s.parent)};for(let s of a.children)s.parent=a;return a}function M(e,t){let n=[],r=0,o=function(i){for(let a of i.children)n.push(t(a,r++,e)),a.type==="tag"&&o(a)};return o(e),n}function S(e,t){let n=0,r=function(o){for(let i of o.children){if(t(i,n++,e))return i;if(i.type==="tag"){let a=r(i);if(a)return a}}};return r(e)}function k(e,t){let n=[],r=0,o=function(i){for(let a of i.children)t(a,r++,e)&&n.push(a),a.type==="tag"&&o(a)};return o(e),n}function R(e,t){let n=[],r=0,o=function(i){i.parent&&(n.push(t(i.parent,r++,e)),i.parent.type!=="root"&&o(i.parent))};return o(e),n}function A(e,t){let n=0,r=function(o){if(o.parent){if(t(o.parent,n++,e))return o.parent;o.parent.type!=="root"&&r(o.parent)}};return r(e)}function v(e,t){let n=[],r=0,o=function(i){i.parent&&(t(i.parent,r++,e)&&n.push(i.parent),i.parent.type!=="root"&&o(i.parent))};return o(e),n}function N(e){let t=function(r){let o="";for(let[i,a]of Object.entries(r))typeof a=="string"?o+=` ${i}="${a}"`:typeof a=="boolean"?a&&(o+=` ${i}`):typeof a=="object"&&typeof a.toString=="function"&&(o+=` ${i}="${a.toString()}"`);return o},n=function(r){let o="";if(r.type==="text"){let i=r.parent;i&&i.type==="tag"&&(i.tag==="script"||i.tag==="style")?o+=r.content:o+=B(r.content)}else if(r.type==="comment")o+=`<!--${r.content}-->`;else if(r.type==="tag")if(o+=`<${r.tag}${t(r.attrs)}`,typeof r.closer=="string")o+=`${r.closer}>`;else{o+=">";for(let i of r.children)o+=n(i);o+=`</${r.tag}>`}else for(let i of r.children)o+=n(i);return o};return n(e)}var I=class{constructor(t){if(typeof t=="string")this.node=E(t);else if(typeof t=="object"&&["root","tag","text","comment"].indexOf(t.type)>-1)this.node=t;else throw new Error("Invalid argument: argument must be string or TreeNode")}getChildren(t){return this.node.type==="root"||this.node.type==="tag"?M(this.node,t):[]}findChild(t){if(this.node.type==="root"||this.node.type==="tag")return S(this.node,t)}findChildren(t){return this.node.type==="root"||this.node.type==="tag"?k(this.node,t):[]}getParents(t){return this.node.type==="tag"||this.node.type==="text"||this.node.type==="comment"?R(this.node,t):[]}findParent(t){if(this.node.type==="tag"||this.node.type==="text"||this.node.type==="comment")return A(this.node,t)}findParents(t){return this.node.type==="tag"||this.node.type==="text"||this.node.type==="comment"?v(this.node,t):[]}toString(){return N(this.node)}static{this.parse=E}static{this.stringify=N}static{this.getChildren=M}static{this.findChild=S}static{this.findChildren=k}static{this.getParents=R}static{this.findParent=A}static{this.findParents=v}};function re(e,t){let n=t.length;if(n===0)throw new Error("Invalid argument: salt.length === 0");let r="";for(let o=0;o<e.length;o++)r+=String.fromCharCode(e.charCodeAt(o)^t.charCodeAt(o%n));return r}function oe(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<=127?t+=1:r<=2047?t+=2:r<=65535?t+=3:t+=4}return t}function $(e,t,n){let r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],o=r.indexOf(t);if(o===-1)throw new Error(`Invalid source unit: ${t}`);let i=r.indexOf(n);if(i===-1)throw new Error(`Invalid destination unit: ${n}`);return e*Math.pow(1024,o-i)}function ie(e,t){let n=$(e,t,"Bytes");if(n===0)return"0 Bytes";let r=Math.floor(Math.log(n)/Math.log(1024));return(n/Math.pow(1024,r)).toFixed(2)+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}function se(e,t){return Math.random()*(t-e)+e}function ae(e,t,n){return Math.min(n,Math.max(e,t))}function fe(e,t,n){return e-=t,n-=t,e<0&&(e=e%n+n),e>=n&&(e=e%n),e+t}function le(e,t){let n=e;for(let r of t.split(".")){if(typeof n!="object"||n===null)break;n=n[r]}return n}function T(e,t,n=new WeakMap){if(Object.is(e,t))return!0;if(typeof e!=typeof t)return!1;if(typeof t!="object")return e===t;if(t===null)return e===null;if(n.has(t))return n.get(t)===e;if(n.set(t,e),Array.isArray(t)){if(!Array.isArray(e)||e.length<t.length)return!1;for(let i of t){let a=!1;for(let s of e)if(T(s,i,n)){a=!0;break}if(!a)return!1}return!0}if(t instanceof Date)return e instanceof Date?e.valueOf()===t.valueOf():!1;if(t instanceof Set)return!(e instanceof Set)||e.size<t.size?!1:T(Array.from(e),Array.from(t),n);if(t instanceof Map){if(!(e instanceof Map)||e.size<t.size)return!1;for(let[i,a]of t)if(!e.has(i)||!T(e.get(i),a,n))return!1;return!0}if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;let r=Object.keys(e),o=Object.keys(t);if(r.length<o.length)return!1;for(let i of o)if(r.indexOf(i)===-1||!T(e[i],t[i],n))return!1;return!0}function ue(...e){let t=[];for(let s of e)for(let f of s.split(/[\\/]/))f!==""&&t.push(f);let n=t[t.length-1]||"",r=n.lastIndexOf("."),o=r>-1?n.substring(r):"",i=r>-1?n.substring(0,r):n,a=t.length>0?t.slice(0,t.length-1).join("/"):"";return{parts:t,basename:n,extname:o,filename:i,dirname:a}}function ce(e,t){let n=f=>{if(f=f.replace(/[\\]/g,"/").replace(/\/$/,""),f.charAt(0)==="/")throw new Error(`Invalid argument: ${f}`);return f==="."||f.charAt(0)==="."&&f.charAt(1)==="/"?f:"./"+f},r=n(e).split("/").filter(Boolean),o=n(t).split("/").filter(Boolean),i=0;for(;i<r.length&&i<o.length&&r[i]===o[i];)i++;let a=Array(r.length-i).fill("..").join("/"),s=o.slice(i).join("/");return a+(a&&s?"/":"")+s}function pe(e,t,n,r){let o=e/t;return o<n/r?[r*o,r]:[n,n/o]}function de(e,t,n,r){let o=e/t;return o<n/r?[n,n/o]:[r*o,r]}function ge(e){return e===void 0?"undefined":e===null?"null":Array.isArray(e)?"array":e instanceof Date?"date":e instanceof RegExp?"regexp":typeof e}function j(e){return typeof e=="string"&&!Number.isNaN(parseFloat(e))&&Number.isFinite(parseFloat(e))}function xe(e){if(j(e))return parseFloat(e);if(typeof e=="number")return e;if(typeof e=="boolean")return e?1:0;if(!e)return 0;throw new Error(`Invalid argument type: ${typeof e}`)}
